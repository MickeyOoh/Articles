Elixr/Erlangの排他制御
　プロセス間の共有メモリはない。:etsによる共有メモリはあるが、排他制御がないため、リード→処理→更新の処理にて他プロセスとのデータ整合性が取れない。中途半端な設計となっている。
　つまり、タイマー管理の処理にて各状態遷移のタイマー更新にて不具合が発生する。
　タイマー管理値をメッセージですれば良いが、今度はタイマーとメッセージとをサポートできない。
　タイマー管理にてブロセス内でタイマー値をセットするのでメッセージ受信にてタイマーがズレる。

erl_mutex_lock/unlock()があり、nif内で排他制御できるようだが、OSスレッドでの制御のため、使用ができない。ひとつのVM上で動作しているNIFと違うNIFは同時に動作しない。NIFは即返る事を前提でVM管理下ではなくスケジューリングされてない。
OSスレッドレベルにしないといけないようだ。
